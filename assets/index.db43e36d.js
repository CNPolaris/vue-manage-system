import{a as e}from"./department.7e79b1a4.js";import{s as l}from"./request.2d0c7259.js";import{G as a,o as t,b as s,e as d,f as o,w as u,F as n,r as i,l as r,c as m,h as p}from"./vendor.6679d492.js";import{_ as c}from"./index.d28fca02.js";const f={data:()=>({query:{page:1,limit:10,company:"",department:""},list:[],total:0,companies:[]}),created(){this.getList(),l({url:"/api/company/list",method:"get"}).then((e=>{this.companies=e.data}))},methods:{getList(){e(this.query).then((e=>{this.total=e.data.total,this.list=e.data.list,a.success(e.message)}))},handlePrev(){this.query.page--,this.getList()},handleNext(){this.query.page++,this.getList()}}},y={class:"searchModule"},h=p(" 查询 "),b=p(" 重置 "),_={class:"buttonModule"},g=p("添加"),v=p("导出"),q={class:"tableModule"},x=p(" 详情 "),V=p(" 编辑 "),k=p(" 删除 "),w={class:"pageModule"};var j=c(f,[["render",function(e,l,a,p,c,f){const j=i("el-option"),z=i("el-select"),C=i("el-form-item"),L=i("el-input"),M=i("el-button"),N=i("el-form"),P=i("el-table-column"),U=i("el-switch"),F=i("el-table"),G=i("el-pagination");return t(),s(n,null,[d("div",y,[o(N,{model:c.query,inline:!0},{default:u((()=>[o(C,{label:"公司"},{default:u((()=>[o(z,{modelValue:c.query.company,"onUpdate:modelValue":l[0]||(l[0]=e=>c.query.company=e),placeholder:""},{default:u((()=>[(t(!0),s(n,null,r(c.companies,(e=>(t(),m(j,{key:e.id,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"部门"},{default:u((()=>[o(L,{modelValue:c.query.department,"onUpdate:modelValue":l[1]||(l[1]=e=>c.query.department=e)},null,8,["modelValue"])])),_:1}),o(C,null,{default:u((()=>[o(M,{type:"primary",size:"small"},{default:u((()=>[h])),_:1})])),_:1}),o(C,null,{default:u((()=>[o(M,{size:"small"},{default:u((()=>[b])),_:1})])),_:1})])),_:1},8,["model"])]),d("div",_,[o(M,{type:"primary",size:"small"},{default:u((()=>[g])),_:1}),o(M,{type:"warning",size:"small"},{default:u((()=>[v])),_:1})]),d("div",q,[o(F,{data:c.list},{default:u((()=>[o(P,{prop:"id",label:"Id"}),o(P,{prop:"company",label:"公司"}),o(P,{prop:"name",label:"部门"}),o(P,{prop:"address",label:"地址"}),o(P,{label:"状态"},{default:u((e=>[o(U,{modelValue:e.row.status,"onUpdate:modelValue":l=>e.row.status=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),o(P,{label:"操作"},{default:u((e=>[o(M,{type:"text"},{default:u((()=>[x])),_:1}),o(M,{type:"text"},{default:u((()=>[V])),_:1}),o(M,{type:"text"},{default:u((()=>[k])),_:1})])),_:1})])),_:1},8,["data"]),d("div",w,[o(G,{small:"",background:"",layout:"prev, pager, next",total:c.total,class:"mt-4",onPrevClick:f.handlePrev,onNextClick:f.handleNext},null,8,["total","onPrevClick","onNextClick"])])])],64)}]]);export{j as default};
